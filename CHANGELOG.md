##### 0.1.0.181112
* 初版发布
##### 0.1.1.181113
* 上报进程的上传计数器类型为u32，应为s32，可能溢出，出现温湿度采集异常现象，修正后恢复正常
* 时区修改为东八区
* 采集时间优化后不对
##### 1.0.0.181113
* 正式版发布
##### 1.0.2.181114
* 解决灯闪烁的问题
* 解决通讯稳定性问题
* 解决温湿度采集异常处理.
##### 1.0.3.181115
* 增加显示ID的功能
* 优化了联网效率
##### 1.0.9.181127
* 增加了开机屏幕全显测试
##### 1.0.15.190305
+ 增加联网失败12次后，重新选网的功能



* 液晶面板V1.2版本的是外部供电其它没变，
* 液晶面板V1.3版本的是内部供电


待验证：采集超级电容电压速度
    * 删除保存频段信息 添加BC95-B5兼容模组

/*----------------------------- 分割线 -----------------------------*/
#define CT_BC95_20Min

NDEBUG
STM8L15X_MD
HAVE_ENCRYPT
HAVE_COM
HAVE_ADC
HAVE_EEPROM
HAVE_RTC
HAVE_WDG
HAVE_KEY
HAVE_LED
HAVE_EXTI
HAVE_UID
HAVE_SYSTIMER
HAVE_BC95
HAVE_AWU
HAVE_NB
HAVE_CT
HAVE_20MIN

/*----------------------------- 分割线 -----------------------------*/
#define CT_ML5515_20Min

NDEBUG
STM8L15X_MD
HAVE_ENCRYPT
HAVE_COM
HAVE_ADC
HAVE_EEPROM
HAVE_RTC
HAVE_WDG
HAVE_KEY
HAVE_LED
HAVE_EXTI
HAVE_UID
HAVE_SYSTIMER
HAVE_ML5515
HAVE_AWU
HAVE_NB
HAVE_CT
HAVE_20MIN


/*----------------------------- 分割线 -----------------------------*/
#define CU_ML5515_20Min

NDEBUG
STM8L15X_MD
HAVE_ENCRYPT
HAVE_COM
HAVE_ADC
HAVE_EEPROM
HAVE_RTC
HAVE_WDG
HAVE_KEY
HAVE_LED
HAVE_EXTI
HAVE_UID
HAVE_SYSTIMER
HAVE_ML5515
HAVE_AWU
HAVE_NB
HAVE_CU
HAVE_20MIN



/*----------------------------- 分割线 -----------------------------*/
// 以前的




任务分配

1.定时采集温湿度。
2.定时刷新屏幕
3.定时采集光敏传感器
4.定时NB-Iot 上传/接收 数据。


AT+MLWULDATAEX=39,0038363834363230343136353030353500D300121762003230323030343131543136323030305A,0x0001

//上报报文
0038363934313630333031393036373000FF01C81464003230313930343130543134313632305A
解析：
消息ID：   00 = 00
imei：     383639343136303330313930363730     =  869416030190670
温度：     00ff = 255
湿度：     01C8 = 456
信号强度： 14 = 20
电池电量： 64 = 100
状态：     00 = 00
时间：     3230313930343130543134313632305A   =  20190410T141620Z





//下发补偿值报文
01FB05
解析：
消息ID：01
温度补偿值：FB（-5）//单位为0.1℃
湿度补偿值：05（5） //单位为0.1%




//下发上报周期
0202
解析：
消息ID：02
上报周期：02（小时）






修改继电器版本

修改地方：
1.按键输出改为 灯控制一路 PB2 和 PB3 、灯控制二路 PF0 和 PD6
2.增加PB0为SHT30电源控制引脚
3.修改30s检测一次温度、在设备联网状态时，5s检测一次超级电容的电量，空闲状态为15s检测一次超级电容里的电量
4.修改按键对应问题，按一下按键1则左边路的灯打开和关闭（按键和灯对应）
5.优化开关型注册网络速度，修改延时时间。
6.优化根据超级电容电量更改充电速度 策略为：当超级电容电压小于3.6V则为250ms频率充电，当电压大于3.6V则切换为125ms充电速度，电阻用的为330k欧姆
7.优化各个任务和充电相互斥，并且其他任务完成等待1s再充电
8.调整液晶屏为内部供电方式。（再选用内部供电方式的时候不能使能电源调节函数 PWR_UltraLowPowerCmd(DISABLE);必须disable）
9.修改当没有出厂时组合键可以查询电池电压大小。
10.优化程序，当在充电状态并且没有出厂的时候用水滴闪烁表示正在充电。
11.优化快充模式，出厂前和安装前用水滴的闪烁表示快充，

12.在没有连接网络和开灯的状态下，在7s内连续按5次则 出现电池电压 并且进入 快充模式，当联网成功则 快充模式 失效。



修改带提示灯版本：V2.0版本
1.修改NB供电控制脚为高电平有效。
2.修改液晶屏的供电方式为内部供电。




CSQ值	真实信号强度
0	-113 dBm or less
1	-111 dBm
2...30	-109... -53 dBm
31	-51 dBm or greater
99	无网络
FF	未获取到CSQ


待修改：
1.修改当持续充电一直是某个电压，说明不能充满，判断可以上传数据。

2.修改可以下发通知模组联网的频率。
3.修改上传 ICCID 和 IMSI，型号（插座和开关）。
4.



